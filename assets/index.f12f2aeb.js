import C,{createContext as N,useReducer as I,useContext as P,useState as g}from"../node_modules/react/index.js";import x from"../node_modules/react-dom/client.js";import L from"../node_modules/i18next/dist/esm/i18next.js";import b from"../node_modules/i18next-http-backend/esm/index.js";import{initReactI18next as $,useTranslation as O}from"../node_modules/react-i18next/dist/es/index.js";import T from"../node_modules/@mui/material/StyledEngineProvider/index.js";import{Box as d,Typography as E,TextField as M,InputAdornment as R,IconButton as w}from"../node_modules/@mui/material/index.js";import B from"../node_modules/@mui/material/Box/index.js";import W from"../node_modules/@mui/material/CircularProgress/index.js";import*as m from"../node_modules/react/jsx-runtime.js";import"../node_modules/@google/generative-ai/dist/index.mjs";import{Send as A,Menu as F}from"../node_modules/@mui/icons-material/esm/index.js";const k=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function a(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=a(e);fetch(e.href,n)}};k();L.use(b).use($).init({fallbackLng:"en",debug:!1,backend:{loadPath:"/GenX/locales/{{lng}}/translation.json"}});const D="_spinnerContainer_vroo6_1",G="_spinner_vroo6_1";var f={spinnerContainer:D,spinner:G};const s=m.jsx,p=m.jsxs,_=m.Fragment;function j({isLoading:t,size:o}){return s(_,{children:t&&s(B,{className:f.spinnerContainer,children:s(W,{className:f.spinner,size:o})})})}const U="_messageContainer_1u1h7_1",q="_userMessage_1u1h7_13",K="_assistantMessage_1u1h7_19";var l={messageContainer:U,userMessage:q,assistantMessage:K};function z({role:t,content:o}){function a(e){const n=/^(Assistant:|Ai:)\s*/i;for(;n.test(e);)e=e.replace(n,"");return e}function i(e){return e.split(/(\*\*[^*]+\*\*|\*[^*]+\*|<u>[^<]+<\/u>|~~[^~]+~~)/).map((r,c)=>r.startsWith("**")&&r.endsWith("**")?s("span",{style:{fontWeight:"bold"},children:r.slice(2,-2)},c):r.startsWith("*")&&r.endsWith("*")?s("span",{style:{fontStyle:"italic"},children:r.slice(1,-1)},c):r.startsWith("<u>")&&r.endsWith("</u>")?s("span",{style:{textDecoration:"underline"},children:r.slice(3,-4)},c):r.startsWith("~~")&&r.endsWith("~~")?s("span",{style:{textDecoration:"line-through"},children:r.slice(2,-2)},c):r)}return s(d,{className:l.messageContainer,children:s(E,{style:{whiteSpace:"pre-line"},className:t==="user"?l.userMessage:l.assistantMessage,children:i(a(o))})})}async function V(t){throw new Error("No API Key present.")}function X(t,o){switch(o.type){case"STORE_INPUT":return{...t,messages:[...t.messages,{role:"user",content:o.data.input,date:new Date}],isLoading:!0};case"STORE_RESPONSE":return{...t,messages:[...t.messages,{role:"assistant",content:o.data.response,date:new Date}],isLoading:!1};case"SET_IS_LOADING":return{...t,isLoading:!0};case"SET_IS_NOT_LOADING":return{...t,isLoading:!1};default:return{...t}}}const H={isLoading:!1,messages:[]},y=N(null);function Q({children:t}){const[o,a]=I(X,H);async function i(n){try{a({type:"STORE_INPUT",data:{input:n}});const r=o.messages?`Continue the conversation: ${o.messages.map(c=>`${c.role}: ${c.content}`).join(`
`)}

Human: ${n}`:n;return await V(r).then(c=>(a({type:"STORE_RESPONSE",data:{response:c}}),c)).catch(c=>{console.error(c)})}finally{a({type:"SET_IS_NOT_LOADING"})}}const e={state:o,sendPrompt:i};return s(y.Provider,{value:e,children:t})}function S(){const t=P(y);if(!t)throw new Error("useGMP must be called from inside of Provider");return t}const J="_chatBox_du5it_2";var Y={chatBox:J};function Z(){const{state:t}=S(),o=t.messages;function a(i){return i.sort((e,n)=>e.date.getTime()-n.date.getTime()),i}return p(d,{className:Y.chatBox,children:[a(o).map((i,e)=>s(z,{role:i.role,content:i.content},e)),s(j,{isLoading:t.isLoading,size:20})]})}const ee="_inputField_170r0_1",te="_searchIcon_170r0_31";var ne={inputField:ee,searchIcon:te};function se(){const{sendPrompt:t}=S(),{t:o}=O("translation"),[a,i]=g("");function e(){t(a),i("")}return s(_,{children:s(M,{value:a,onChange:n=>{i(n.target.value)},onKeyDown:n=>{n.key==="Enter"&&e()},placeholder:o("main.input.placeholder"),variant:"standard",fullWidth:!0,className:ne.inputField,InputProps:{disableUnderline:!0,endAdornment:a&&s(R,{position:"end",children:s(w,{onClick:e,sx:{color:"#444746"},children:s(A,{})})})}})})}const re="_main_1g49z_1";var oe={main:re};function ie(){return p(d,{className:oe.main,children:[s(Z,{}),s(se,{})]})}const ae="_sidebar_1t293_2",ce="_collapsed_1t293_17",le="_collapseButton_1t293_22";var u={sidebar:ae,collapsed:ce,collapseButton:le};function ue(){const[t,o]=g(!0),a=()=>{o(!t)};return s("div",{className:`${u.sidebar} ${t?u.collapsed:""}`,children:s("button",{className:u.collapseButton,onClick:a,children:s(F,{})})})}const de="_app_wu3c0_1";var me={app:de};function pe(){return s(T,{injectFirst:!0,children:s(Q,{children:p("div",{className:me.app,children:[s(ue,{}),s(ie,{})]})})})}const fe="modulepreload",h={},he="/GenX/",ge=function(o,a){return!a||a.length===0?o():Promise.all(a.map(i=>{if(i=`${he}${i}`,i in h)return;h[i]=!0;const e=i.endsWith(".css"),n=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${n}`))return;const r=document.createElement("link");if(r.rel=e?"stylesheet":fe,e||(r.as="script",r.crossOrigin=""),r.href=i,document.head.appendChild(r),e)return new Promise((c,v)=>{r.addEventListener("load",c),r.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>o())};function _e(t){t&&t instanceof Function&&ge(()=>import("../node_modules/web-vitals/dist/web-vitals.js"),[]).then(({getCLS:o,getFID:a,getFCP:i,getLCP:e,getTTFB:n})=>{o(t),a(t),i(t),e(t),n(t)})}const ye=x.createRoot(document.getElementById("root"));ye.render(s(C.StrictMode,{children:s(pe,{})}));_e();
